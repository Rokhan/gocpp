// generated by GoCpp from file '$(ImportDir)/runtime/mpallocbits.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/runtime/mpallocbits.fwd.h"
#include "gocpp/support.h"

#include "golang/runtime/mpagealloc.h"

namespace golang::runtime
{
    unsigned int findBitRange64(uint64_t c, unsigned int n);
    struct pallocData
    {
        golang::runtime::pallocBits pallocBits;
        golang::runtime::pageBits scavenged;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct pallocData& value);

    namespace rec
    {
        unsigned int get(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i);
        uint64_t block64(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i);
        void set(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i);
        void setRange(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i, unsigned int n);
        void setAll(gocpp::array_ptr<golang::runtime::pageBits> b);
        void setBlock64(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i, uint64_t v);
        void clear(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i);
        void clearRange(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i, unsigned int n);
        void clearAll(gocpp::array_ptr<golang::runtime::pageBits> b);
        void clearBlock64(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i, uint64_t v);
        unsigned int popcntRange(gocpp::array_ptr<golang::runtime::pageBits> b, unsigned int i, unsigned int n);
        runtime::pallocSum summarize(gocpp::array_ptr<golang::runtime::pallocBits> b);
        std::tuple<unsigned int, unsigned int> find(gocpp::array_ptr<golang::runtime::pallocBits> b, uintptr_t npages, unsigned int searchIdx);
        unsigned int find1(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int searchIdx);
        std::tuple<unsigned int, unsigned int> findSmallN(gocpp::array_ptr<golang::runtime::pallocBits> b, uintptr_t npages, unsigned int searchIdx);
        std::tuple<unsigned int, unsigned int> findLargeN(gocpp::array_ptr<golang::runtime::pallocBits> b, uintptr_t npages, unsigned int searchIdx);
        void allocRange(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int i, unsigned int n);
        void allocAll(gocpp::array_ptr<golang::runtime::pallocBits> b);
        void free1(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int i);
        void free(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int i, unsigned int n);
        void freeAll(gocpp::array_ptr<golang::runtime::pallocBits> b);
        uint64_t pages64(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int i);
        void allocPages64(gocpp::array_ptr<golang::runtime::pallocBits> b, unsigned int i, uint64_t alloc);
        void allocRange(golang::runtime::pallocData* m, unsigned int i, unsigned int n);
        void allocAll(golang::runtime::pallocData* m);
    }
}

