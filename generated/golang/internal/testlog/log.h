// generated by GoCpp from file '$(ImportDir)/internal/testlog/log.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/internal/testlog/log.fwd.h"
#include "gocpp/support.h"

#include "golang/sync/atomic/value.h"

namespace golang::testlog
{
    struct Interface : gocpp::Interface
    {
        using gocpp::Interface::operator==;
        using gocpp::Interface::operator!=;

        Interface(){}
        Interface(Interface& i) = default;
        Interface(const Interface& i) = default;
        Interface& operator=(Interface& i) = default;
        Interface& operator=(const Interface& i) = default;

        template<typename T>
        Interface(T& ref);

        template<typename T>
        Interface(const T& ref);

        template<typename T>
        Interface(T* ptr);

        using isGoInterface = void;

        std::ostream& PrintTo(std::ostream& os) const;

        struct IInterface
        {
            virtual void vGetenv(gocpp::string key) = 0;
            virtual void vStat(gocpp::string file) = 0;
            virtual void vOpen(gocpp::string file) = 0;
            virtual void vChdir(gocpp::string dir) = 0;
        };

        template<typename T, typename StoreT>
        struct InterfaceImpl : IInterface
        {
            explicit InterfaceImpl(T* ptr)
            {
                value.reset(ptr);
            }

            void vGetenv(gocpp::string key) override;

            void vStat(gocpp::string file) override;

            void vOpen(gocpp::string file) override;

            void vChdir(gocpp::string dir) override;

            StoreT value;
        };

        std::shared_ptr<IInterface> value;
    };

    namespace rec
    {
        void Getenv(const gocpp::PtrRecv<struct Interface, false>& self, gocpp::string key);
        void Getenv(const gocpp::ObjRecv<struct Interface>& self, gocpp::string key);

        void Stat(const gocpp::PtrRecv<struct Interface, false>& self, gocpp::string file);
        void Stat(const gocpp::ObjRecv<struct Interface>& self, gocpp::string file);

        void Open(const gocpp::PtrRecv<struct Interface, false>& self, gocpp::string file);
        void Open(const gocpp::ObjRecv<struct Interface>& self, gocpp::string file);

        void Chdir(const gocpp::PtrRecv<struct Interface, false>& self, gocpp::string dir);
        void Chdir(const gocpp::ObjRecv<struct Interface>& self, gocpp::string dir);
    }

    std::ostream& operator<<(std::ostream& os, const struct Interface& value);
    extern atomic::Value logger;
    void SetLogger(struct Interface impl);
    struct Interface Logger();
    void Getenv(gocpp::string name);
    void Open(gocpp::string name);
    void Stat(gocpp::string name);

    namespace rec
    {
    }
}

