// generated by GoCpp from file '$(ImportDir)/runtime/lockrank.go'
#include <complex>
#include <functional>
#include <iostream>
#include <iomanip>
#include <map>
#include <string>
#include <tuple>
#include <vector>

#include "golang/runtime/lockrank.h"
#include "gocpp/support.h"

namespace golang::runtime
{
    namespace rec
    {
        using namespace mocklib::rec;
    }

    // Constants representing the ranks of all non-leaf runtime locks, in rank order.
    // Locks with lower rank must be taken before locks with higher rank,
    // in addition to satisfying the partial order in lockPartialOrder.
    // A few ranks allow self-cycles, which are specified in lockPartialOrder.
    // SCHED
    // TRACEGLOBAL
    // MALLOC
    // MPROF
    // STACKGROW
    // WB
    // TRACE
    // lockRankLeafRank is the rank of lock that does not have a declared rank,
    // and hence is a leaf lock.
    // lockNames gives the names associated with each of the above ranks.
    gocpp::slice<gocpp::string> lockNames = gocpp::Init<gocpp::slice<gocpp::string>>([](auto& x) {
        x[lockRankSysmon] = "sysmon"_s;
        x[lockRankScavenge] = "scavenge"_s;
        x[lockRankForcegc] = "forcegc"_s;
        x[lockRankDefer] = "defer"_s;
        x[lockRankSweepWaiters] = "sweepWaiters"_s;
        x[lockRankAssistQueue] = "assistQueue"_s;
        x[lockRankSweep] = "sweep"_s;
        x[lockRankTestR] = "testR"_s;
        x[lockRankTestW] = "testW"_s;
        x[lockRankAllocmW] = "allocmW"_s;
        x[lockRankExecW] = "execW"_s;
        x[lockRankCpuprof] = "cpuprof"_s;
        x[lockRankPollDesc] = "pollDesc"_s;
        x[lockRankWakeableSleep] = "wakeableSleep"_s;
        x[lockRankAllocmR] = "allocmR"_s;
        x[lockRankExecR] = "execR"_s;
        x[lockRankSched] = "sched"_s;
        x[lockRankAllg] = "allg"_s;
        x[lockRankAllp] = "allp"_s;
        x[lockRankTimers] = "timers"_s;
        x[lockRankNetpollInit] = "netpollInit"_s;
        x[lockRankHchan] = "hchan"_s;
        x[lockRankNotifyList] = "notifyList"_s;
        x[lockRankSudog] = "sudog"_s;
        x[lockRankRoot] = "root"_s;
        x[lockRankItab] = "itab"_s;
        x[lockRankReflectOffs] = "reflectOffs"_s;
        x[lockRankUserArenaState] = "userArenaState"_s;
        x[lockRankTraceBuf] = "traceBuf"_s;
        x[lockRankTraceStrings] = "traceStrings"_s;
        x[lockRankFin] = "fin"_s;
        x[lockRankSpanSetSpine] = "spanSetSpine"_s;
        x[lockRankMspanSpecial] = "mspanSpecial"_s;
        x[lockRankGcBitsArenas] = "gcBitsArenas"_s;
        x[lockRankProfInsert] = "profInsert"_s;
        x[lockRankProfBlock] = "profBlock"_s;
        x[lockRankProfMemActive] = "profMemActive"_s;
        x[lockRankProfMemFuture] = "profMemFuture"_s;
        x[lockRankGscan] = "gscan"_s;
        x[lockRankStackpool] = "stackpool"_s;
        x[lockRankStackLarge] = "stackLarge"_s;
        x[lockRankHchanLeaf] = "hchanLeaf"_s;
        x[lockRankWbufSpans] = "wbufSpans"_s;
        x[lockRankMheap] = "mheap"_s;
        x[lockRankMheapSpecial] = "mheapSpecial"_s;
        x[lockRankGlobalAlloc] = "globalAlloc"_s;
        x[lockRankTrace] = "trace"_s;
        x[lockRankTraceStackTab] = "traceStackTab"_s;
        x[lockRankPanic] = "panic"_s;
        x[lockRankDeadlock] = "deadlock"_s;
        x[lockRankRaceFini] = "raceFini"_s;
        x[lockRankAllocmRInternal] = "allocmRInternal"_s;
        x[lockRankExecRInternal] = "execRInternal"_s;
        x[lockRankTestRInternal] = "testRInternal"_s;
    });
    gocpp::string rec::String(golang::runtime::lockRank rank)
    {
        if(rank == 0)
        {
            return "UNKNOWN"_s;
        }
        if(rank == lockRankLeafRank)
        {
            return "LEAF"_s;
        }
        if(rank < 0 || int(rank) >= len(lockNames))
        {
            return "BAD RANK"_s;
        }
        return lockNames[rank];
    }

    // lockPartialOrder is the transitive closure of the lock rank graph.
    // An entry for rank X lists all of the ranks that can already be held
    // when rank X is acquired.
    //
    // Lock ranks that allow self-cycles list themselves.
    gocpp::slice<gocpp::slice<runtime::lockRank>> lockPartialOrder = gocpp::Init<gocpp::slice<gocpp::slice<runtime::lockRank>>>([](auto& x) {
        x[lockRankSysmon] =  {};
        x[lockRankScavenge] =  {lockRankSysmon};
        x[lockRankForcegc] =  {lockRankSysmon};
        x[lockRankDefer] =  {};
        x[lockRankSweepWaiters] =  {};
        x[lockRankAssistQueue] =  {};
        x[lockRankSweep] =  {};
        x[lockRankTestR] =  {};
        x[lockRankTestW] =  {};
        x[lockRankAllocmW] =  {};
        x[lockRankExecW] =  {};
        x[lockRankCpuprof] =  {};
        x[lockRankPollDesc] =  {};
        x[lockRankWakeableSleep] =  {};
        x[lockRankAllocmR] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep};
        x[lockRankExecR] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep};
        x[lockRankSched] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR};
        x[lockRankAllg] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched};
        x[lockRankAllp] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched};
        x[lockRankTimers] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllp, lockRankTimers};
        x[lockRankNetpollInit] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllp, lockRankTimers};
        x[lockRankHchan] =  {lockRankSysmon, lockRankScavenge, lockRankSweep, lockRankTestR, lockRankWakeableSleep, lockRankHchan};
        x[lockRankNotifyList] =  {};
        x[lockRankSudog] =  {lockRankSysmon, lockRankScavenge, lockRankSweep, lockRankTestR, lockRankWakeableSleep, lockRankHchan, lockRankNotifyList};
        x[lockRankRoot] =  {};
        x[lockRankItab] =  {};
        x[lockRankReflectOffs] =  {lockRankItab};
        x[lockRankUserArenaState] =  {};
        x[lockRankTraceBuf] =  {lockRankSysmon, lockRankScavenge};
        x[lockRankTraceStrings] =  {lockRankSysmon, lockRankScavenge, lockRankTraceBuf};
        x[lockRankFin] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankSpanSetSpine] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankMspanSpecial] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankGcBitsArenas] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankMspanSpecial};
        x[lockRankProfInsert] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankProfBlock] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankProfMemActive] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings};
        x[lockRankProfMemFuture] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankHchan, lockRankNotifyList, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankProfMemActive};
        x[lockRankGscan] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture};
        x[lockRankStackpool] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan};
        x[lockRankStackLarge] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan};
        x[lockRankHchanLeaf] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankHchanLeaf};
        x[lockRankWbufSpans] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan};
        x[lockRankMheap] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankStackpool, lockRankStackLarge, lockRankWbufSpans};
        x[lockRankMheapSpecial] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankStackpool, lockRankStackLarge, lockRankWbufSpans, lockRankMheap};
        x[lockRankGlobalAlloc] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankStackpool, lockRankStackLarge, lockRankWbufSpans, lockRankMheap, lockRankMheapSpecial};
        x[lockRankTrace] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankStackpool, lockRankStackLarge, lockRankWbufSpans, lockRankMheap};
        x[lockRankTraceStackTab] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankDefer, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR, lockRankExecR, lockRankSched, lockRankAllg, lockRankAllp, lockRankTimers, lockRankNetpollInit, lockRankHchan, lockRankNotifyList, lockRankSudog, lockRankRoot, lockRankItab, lockRankReflectOffs, lockRankUserArenaState, lockRankTraceBuf, lockRankTraceStrings, lockRankFin, lockRankSpanSetSpine, lockRankMspanSpecial, lockRankGcBitsArenas, lockRankProfInsert, lockRankProfBlock, lockRankProfMemActive, lockRankProfMemFuture, lockRankGscan, lockRankStackpool, lockRankStackLarge, lockRankWbufSpans, lockRankMheap, lockRankTrace};
        x[lockRankPanic] =  {};
        x[lockRankDeadlock] =  {lockRankPanic, lockRankDeadlock};
        x[lockRankRaceFini] =  {lockRankPanic};
        x[lockRankAllocmRInternal] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankAllocmW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankAllocmR};
        x[lockRankExecRInternal] =  {lockRankSysmon, lockRankScavenge, lockRankForcegc, lockRankSweepWaiters, lockRankAssistQueue, lockRankSweep, lockRankTestR, lockRankExecW, lockRankCpuprof, lockRankPollDesc, lockRankWakeableSleep, lockRankExecR};
        x[lockRankTestRInternal] =  {lockRankTestR, lockRankTestW};
    });
}

