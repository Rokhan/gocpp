// generated by GoCpp from file '$(ImportDir)/bufio/bufio.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/bufio/bufio.fwd.h"
#include "gocpp/support.h"

#include "golang/bytes/bytes.h"
#include "golang/errors/errors.h"
// #include "golang/io/io.h"  [Ignored, known errors]
#include "golang/strings/builder.h"
#include "golang/unicode/utf8/utf8.h"

namespace golang::bufio
{
    extern std::string ErrInvalidUnreadByte;
    extern std::string ErrInvalidUnreadRune;
    extern std::string ErrBufferFull;
    extern std::string ErrNegativeCount;
    struct Reader
    {
        gocpp::slice<unsigned char> buf;
        io::Reader rd;
        int r;
        int w;
        std::string err;
        int lastByte;
        int lastRuneSize;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Reader& value);
    Reader* NewReaderSize(io::Reader rd, int size);
    Reader* NewReader(io::Reader rd);
    int Size(struct Reader* b);
    void Reset(struct Reader* b, io::Reader r);
    void reset(struct Reader* b, gocpp::slice<unsigned char> buf, io::Reader r);
    extern std::string errNegativeRead;
    void fill(struct Reader* b);
    std::string readErr(struct Reader* b);
    std::tuple<gocpp::slice<unsigned char>, std::string> Peek(struct Reader* b, int n);
    std::tuple<int, std::string> Discard(struct Reader* b, int n);
    std::tuple<int, std::string> Read(struct Reader* b, gocpp::slice<unsigned char> p);
    std::tuple<unsigned char, std::string> ReadByte(struct Reader* b);
    std::string UnreadByte(struct Reader* b);
    std::tuple<gocpp::rune, int, std::string> ReadRune(struct Reader* b);
    std::string UnreadRune(struct Reader* b);
    int Buffered(struct Reader* b);
    std::tuple<gocpp::slice<unsigned char>, std::string> ReadSlice(struct Reader* b, unsigned char delim);
    std::tuple<gocpp::slice<unsigned char>, bool, std::string> ReadLine(struct Reader* b);
    std::tuple<gocpp::slice<gocpp::slice<unsigned char>>, gocpp::slice<unsigned char>, int, std::string> collectFragments(struct Reader* b, unsigned char delim);
    std::tuple<gocpp::slice<unsigned char>, std::string> ReadBytes(struct Reader* b, unsigned char delim);
    std::tuple<std::string, std::string> ReadString(struct Reader* b, unsigned char delim);
    std::tuple<int64_t, std::string> WriteTo(struct Reader* b, io::Writer w);
    extern std::string errNegativeWrite;
    std::tuple<int64_t, std::string> writeBuf(struct Reader* b, io::Writer w);
    struct Writer
    {
        std::string err;
        gocpp::slice<unsigned char> buf;
        int n;
        io::Writer wr;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Writer& value);
    Writer* NewWriterSize(io::Writer w, int size);
    Writer* NewWriter(io::Writer w);
    int Size(struct Writer* b);
    void Reset(struct Writer* b, io::Writer w);
    std::string Flush(struct Writer* b);
    int Available(struct Writer* b);
    gocpp::slice<unsigned char> AvailableBuffer(struct Writer* b);
    int Buffered(struct Writer* b);
    std::tuple<int, std::string> Write(struct Writer* b, gocpp::slice<unsigned char> p);
    std::string WriteByte(struct Writer* b, unsigned char c);
    std::tuple<int, std::string> WriteRune(struct Writer* b, gocpp::rune r);
    std::tuple<int, std::string> WriteString(struct Writer* b, std::string s);
    std::tuple<int64_t, std::string> ReadFrom(struct Writer* b, io::Reader r);
    struct ReadWriter
    {

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct ReadWriter& value);
    ReadWriter* NewReadWriter(Reader* r, Writer* w);
}

