// generated by GoCpp from file '$(ImportDir)/fmt/format.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/fmt/format.fwd.h"
#include "gocpp/support.h"

#include "golang/fmt/print.h"

namespace golang::fmt
{
    extern gocpp::string ldigits;
    extern gocpp::string udigits;
    struct fmtFlags
    {
        bool widPresent;
        bool precPresent;
        bool minus;
        bool plus;
        bool sharp;
        bool space;
        bool zero;
        bool plusV;
        bool sharpV;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct fmtFlags& value);
    struct fmt
    {
        buffer* buf;
        fmtFlags fmtFlags;
        int wid;
        int prec;
        gocpp::array<unsigned char, 68> intbuf;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct fmt& value);

    namespace rec
    {
        void clearflags(struct fmt* f);
        void init(struct fmt* f, buffer* buf);
        void writePadding(struct fmt* f, int n);
        void pad(struct fmt* f, gocpp::slice<unsigned char> b);
        void padString(struct fmt* f, gocpp::string s);
        void fmtBoolean(struct fmt* f, bool v);
        void fmtUnicode(struct fmt* f, uint64_t u);
        void fmtInteger(struct fmt* f, uint64_t u, int base, bool isSigned, gocpp::rune verb, gocpp::string digits);
        gocpp::string truncateString(struct fmt* f, gocpp::string s);
        gocpp::slice<unsigned char> truncate(struct fmt* f, gocpp::slice<unsigned char> b);
        void fmtS(struct fmt* f, gocpp::string s);
        void fmtBs(struct fmt* f, gocpp::slice<unsigned char> b);
        void fmtSbx(struct fmt* f, gocpp::string s, gocpp::slice<unsigned char> b, gocpp::string digits);
        void fmtSx(struct fmt* f, gocpp::string s, gocpp::string digits);
        void fmtBx(struct fmt* f, gocpp::slice<unsigned char> b, gocpp::string digits);
        void fmtQ(struct fmt* f, gocpp::string s);
        void fmtC(struct fmt* f, uint64_t c);
        void fmtQc(struct fmt* f, uint64_t c);
        void fmtFloat(struct fmt* f, double v, int size, gocpp::rune verb, int prec);
    }
}

