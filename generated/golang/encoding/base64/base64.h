// generated by GoCpp from file '$(ImportDir)/encoding/base64/base64.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/encoding/base64/base64.fwd.h"
#include "gocpp/support.h"

#include "golang/io/io.h"

namespace golang::base64
{
    struct Encoding
    {
        gocpp::array<unsigned char, 64> encode;
        gocpp::array<uint8_t, 256> decodeMap;
        gocpp::rune padChar;
        bool strict;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Encoding& value);
    extern gocpp::string decodeMapInitialize;
    struct Encoding* NewEncoding(gocpp::string encoder);
    extern Encoding* StdEncoding;
    extern Encoding* URLEncoding;
    struct encoder
    {
        gocpp::error err;
        Encoding* enc;
        io::Writer w;
        gocpp::array<unsigned char, 3> buf;
        int nbuf;
        gocpp::array<unsigned char, 1024> out;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct encoder& value);
    io::WriteCloser NewEncoder(struct Encoding* enc, io::Writer w);
    struct decoder
    {
        gocpp::error err;
        gocpp::error readErr;
        Encoding* enc;
        io::Reader r;
        gocpp::array<unsigned char, 1024> buf;
        int nbuf;
        gocpp::slice<unsigned char> out;
        gocpp::array<unsigned char, 1024 / 4 * 3> outbuf;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct decoder& value);
    std::tuple<uint32_t, bool> assemble32(unsigned char n1, unsigned char n2, unsigned char n3, unsigned char n4);
    std::tuple<uint64_t, bool> assemble64(unsigned char n1, unsigned char n2, unsigned char n3, unsigned char n4, unsigned char n5, unsigned char n6, unsigned char n7, unsigned char n8);
    struct newlineFilteringReader
    {
        io::Reader wrapped;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct newlineFilteringReader& value);
    io::Reader NewDecoder(struct Encoding* enc, io::Reader r);
    int decodedLen(int n, gocpp::rune padChar);
    extern Encoding* RawStdEncoding;
    extern Encoding* RawURLEncoding;

    namespace rec
    {
        struct Encoding* WithPadding(golang::base64::Encoding enc, gocpp::rune padding);
        struct Encoding* Strict(golang::base64::Encoding enc);
        void Encode(golang::base64::Encoding* enc, gocpp::slice<unsigned char> dst, gocpp::slice<unsigned char> src);
        gocpp::slice<unsigned char> AppendEncode(golang::base64::Encoding* enc, gocpp::slice<unsigned char> dst, gocpp::slice<unsigned char> src);
        gocpp::string EncodeToString(golang::base64::Encoding* enc, gocpp::slice<unsigned char> src);
        std::tuple<int, struct gocpp::error> Write(golang::base64::encoder* e, gocpp::slice<unsigned char> p);
        struct gocpp::error Close(golang::base64::encoder* e);
        int EncodedLen(golang::base64::Encoding* enc, int n);
        gocpp::string Error(golang::base64::CorruptInputError e);
        std::tuple<int, int, struct gocpp::error> decodeQuantum(golang::base64::Encoding* enc, gocpp::slice<unsigned char> dst, gocpp::slice<unsigned char> src, int si);
        std::tuple<gocpp::slice<unsigned char>, struct gocpp::error> AppendDecode(golang::base64::Encoding* enc, gocpp::slice<unsigned char> dst, gocpp::slice<unsigned char> src);
        std::tuple<gocpp::slice<unsigned char>, struct gocpp::error> DecodeString(golang::base64::Encoding* enc, gocpp::string s);
        std::tuple<int, struct gocpp::error> Read(golang::base64::decoder* d, gocpp::slice<unsigned char> p);
        std::tuple<int, struct gocpp::error> Decode(golang::base64::Encoding* enc, gocpp::slice<unsigned char> dst, gocpp::slice<unsigned char> src);
        std::tuple<int, struct gocpp::error> Read(golang::base64::newlineFilteringReader* r, gocpp::slice<unsigned char> p);
        int DecodedLen(golang::base64::Encoding* enc, int n);
    }
}

