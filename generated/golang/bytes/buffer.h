// generated by GoCpp from file '$(ImportDir)/bytes/buffer.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/bytes/buffer.fwd.h"
#include "gocpp/support.h"

#include "golang/io/io.h"

namespace golang::bytes
{
    struct Buffer
    {
        gocpp::slice<unsigned char> buf;
        int off;
        golang::bytes::readOp lastRead;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Buffer& value);
    extern gocpp::error ErrTooLarge;
    extern gocpp::error errNegativeRead;
    gocpp::slice<unsigned char> growSlice(gocpp::slice<unsigned char> b, int n);
    extern gocpp::error errUnreadByte;
    struct Buffer* NewBuffer(gocpp::slice<unsigned char> buf);
    struct Buffer* NewBufferString(gocpp::string s);

    namespace rec
    {
        gocpp::slice<unsigned char> Bytes(golang::bytes::Buffer* b);
        gocpp::slice<unsigned char> AvailableBuffer(golang::bytes::Buffer* b);
        gocpp::string String(golang::bytes::Buffer* b);
        bool empty(golang::bytes::Buffer* b);
        int Len(golang::bytes::Buffer* b);
        int Cap(golang::bytes::Buffer* b);
        int Available(golang::bytes::Buffer* b);
        void Truncate(golang::bytes::Buffer* b, int n);
        void Reset(golang::bytes::Buffer* b);
        std::tuple<int, bool> tryGrowByReslice(golang::bytes::Buffer* b, int n);
        int grow(golang::bytes::Buffer* b, int n);
        void Grow(golang::bytes::Buffer* b, int n);
        std::tuple<int, struct gocpp::error> Write(golang::bytes::Buffer* b, gocpp::slice<unsigned char> p);
        std::tuple<int, struct gocpp::error> WriteString(golang::bytes::Buffer* b, gocpp::string s);
        std::tuple<int64_t, struct gocpp::error> ReadFrom(golang::bytes::Buffer* b, io::Reader r);
        std::tuple<int64_t, struct gocpp::error> WriteTo(golang::bytes::Buffer* b, io::Writer w);
        struct gocpp::error WriteByte(golang::bytes::Buffer* b, unsigned char c);
        std::tuple<int, struct gocpp::error> WriteRune(golang::bytes::Buffer* b, gocpp::rune r);
        std::tuple<int, struct gocpp::error> Read(golang::bytes::Buffer* b, gocpp::slice<unsigned char> p);
        gocpp::slice<unsigned char> Next(golang::bytes::Buffer* b, int n);
        std::tuple<unsigned char, struct gocpp::error> ReadByte(golang::bytes::Buffer* b);
        std::tuple<gocpp::rune, int, struct gocpp::error> ReadRune(golang::bytes::Buffer* b);
        struct gocpp::error UnreadRune(golang::bytes::Buffer* b);
        struct gocpp::error UnreadByte(golang::bytes::Buffer* b);
        std::tuple<gocpp::slice<unsigned char>, struct gocpp::error> ReadBytes(golang::bytes::Buffer* b, unsigned char delim);
        std::tuple<gocpp::slice<unsigned char>, struct gocpp::error> readSlice(golang::bytes::Buffer* b, unsigned char delim);
        std::tuple<gocpp::string, struct gocpp::error> ReadString(golang::bytes::Buffer* b, unsigned char delim);
    }
}

