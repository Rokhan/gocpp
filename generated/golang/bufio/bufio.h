// generated by GoCpp from file '$(ImportDir)/bufio/bufio.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/bufio/bufio.fwd.h"
#include "gocpp/support.h"

#include "golang/bytes/bytes.h"
#include "golang/errors/errors.h"
#include "golang/io/io.h"
#include "golang/strings/builder.h"
#include "golang/unicode/utf8/utf8.h"

namespace golang::bufio
{
    extern int defaultBufSize;
    extern std::string ErrInvalidUnreadByte;
    extern std::string ErrInvalidUnreadRune;
    extern std::string ErrBufferFull;
    extern std::string ErrNegativeCount;
    struct Reader
    {
        gocpp::slice<unsigned char> buf;
        io::Reader rd;
        int r;
        int w;
        std::string err;
        int lastByte;
        int lastRuneSize;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const Reader& value);
    extern int minReadBufferSize;
    extern int maxConsecutiveEmptyReads;
    Reader* NewReaderSize(io::Reader rd, int size);
    Reader* NewReader(io::Reader rd);
    int Size(Reader* b);
    void Reset(Reader* b, io::Reader r);
    void reset(Reader* b, gocpp::slice<unsigned char> buf, io::Reader r);
    extern std::string errNegativeRead;
    void fill(Reader* b);
    std::string readErr(Reader* b);
    std::tuple<gocpp::slice<unsigned char>, std::string> Peek(Reader* b, int n);
    std::tuple<int, std::string> Discard(Reader* b, int n);
    std::tuple<int, std::string> Read(Reader* b, gocpp::slice<unsigned char> p);
    std::tuple<unsigned char, std::string> ReadByte(Reader* b);
    std::string UnreadByte(Reader* b);
    std::tuple<rune, int, std::string> ReadRune(Reader* b);
    std::string UnreadRune(Reader* b);
    int Buffered(Reader* b);
    std::tuple<gocpp::slice<unsigned char>, std::string> ReadSlice(Reader* b, unsigned char delim);
    std::tuple<gocpp::slice<unsigned char>, bool, std::string> ReadLine(Reader* b);
    std::tuple<gocpp::slice<gocpp::slice<unsigned char>>, gocpp::slice<unsigned char>, int, std::string> collectFragments(Reader* b, unsigned char delim);
    std::tuple<gocpp::slice<unsigned char>, std::string> ReadBytes(Reader* b, unsigned char delim);
    std::tuple<std::string, std::string> ReadString(Reader* b, unsigned char delim);
    std::tuple<int64_t, std::string> WriteTo(Reader* b, io::Writer w);
    extern std::string errNegativeWrite;
    std::tuple<int64_t, std::string> writeBuf(Reader* b, io::Writer w);
    struct Writer
    {
        std::string err;
        gocpp::slice<unsigned char> buf;
        int n;
        io::Writer wr;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const Writer& value);
    Writer* NewWriterSize(io::Writer w, int size);
    Writer* NewWriter(io::Writer w);
    int Size(Writer* b);
    void Reset(Writer* b, io::Writer w);
    std::string Flush(Writer* b);
    int Available(Writer* b);
    gocpp::slice<unsigned char> AvailableBuffer(Writer* b);
    int Buffered(Writer* b);
    std::tuple<int, std::string> Write(Writer* b, gocpp::slice<unsigned char> p);
    std::string WriteByte(Writer* b, unsigned char c);
    std::tuple<int, std::string> WriteRune(Writer* b, rune r);
    std::tuple<int, std::string> WriteString(Writer* b, std::string s);
    std::tuple<int64_t, std::string> ReadFrom(Writer* b, io::Reader r);
    struct ReadWriter
    {

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const ReadWriter& value);
    ReadWriter* NewReadWriter(Reader* r, Writer* w);
}

