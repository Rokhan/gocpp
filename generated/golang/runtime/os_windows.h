// generated by GoCpp from file '$(ImportDir)/runtime/os_windows.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/runtime/os_windows.fwd.h"
#include "gocpp/support.h"

#include "golang/internal/abi/type.h"
#include "golang/internal/chacha8rand/chacha8.h"
#include "golang/runtime/cgocall.h"
#include "golang/runtime/chan.h"
#include "golang/runtime/coro.h"
#include "golang/runtime/debuglog_off.h"
#include "golang/runtime/internal/atomic/types.h"
#include "golang/runtime/internal/sys/nih.h"
#include "golang/runtime/lockrank.h"
#include "golang/runtime/lockrank_off.h"
#include "golang/runtime/mprof.h"
#include "golang/runtime/panic.h"
#include "golang/runtime/runtime2.h"
#include "golang/runtime/signal_windows.h"
#include "golang/runtime/symtab.h"
#include "golang/runtime/time.h"
#include "golang/runtime/trace2buf.h"
#include "golang/runtime/trace2runtime.h"
#include "golang/runtime/trace2status.h"
#include "golang/runtime/trace2time.h"

namespace golang::runtime
{
    extern runtime::stdFunction _AddVectoredContinueHandler;
    extern runtime::stdFunction _AddVectoredExceptionHandler;
    extern runtime::stdFunction _CloseHandle;
    extern runtime::stdFunction _CreateEventA;
    extern runtime::stdFunction _CreateFileA;
    extern runtime::stdFunction _CreateIoCompletionPort;
    extern runtime::stdFunction _CreateThread;
    extern runtime::stdFunction _CreateWaitableTimerA;
    extern runtime::stdFunction _CreateWaitableTimerExW;
    extern runtime::stdFunction _DuplicateHandle;
    extern runtime::stdFunction _ExitProcess;
    extern runtime::stdFunction _FreeEnvironmentStringsW;
    extern runtime::stdFunction _GetConsoleMode;
    extern runtime::stdFunction _GetCurrentThreadId;
    extern runtime::stdFunction _GetEnvironmentStringsW;
    extern runtime::stdFunction _GetErrorMode;
    extern runtime::stdFunction _GetProcAddress;
    extern runtime::stdFunction _GetProcessAffinityMask;
    extern runtime::stdFunction _GetQueuedCompletionStatusEx;
    extern runtime::stdFunction _GetStdHandle;
    extern runtime::stdFunction _GetSystemDirectoryA;
    extern runtime::stdFunction _GetSystemInfo;
    extern runtime::stdFunction _GetThreadContext;
    extern runtime::stdFunction _SetThreadContext;
    extern runtime::stdFunction _LoadLibraryExW;
    extern runtime::stdFunction _LoadLibraryW;
    extern runtime::stdFunction _PostQueuedCompletionStatus;
    extern runtime::stdFunction _QueryPerformanceCounter;
    extern runtime::stdFunction _RaiseFailFastException;
    extern runtime::stdFunction _ResumeThread;
    extern runtime::stdFunction _RtlLookupFunctionEntry;
    extern runtime::stdFunction _RtlVirtualUnwind;
    extern runtime::stdFunction _SetConsoleCtrlHandler;
    extern runtime::stdFunction _SetErrorMode;
    extern runtime::stdFunction _SetEvent;
    extern runtime::stdFunction _SetProcessPriorityBoost;
    extern runtime::stdFunction _SetThreadPriority;
    extern runtime::stdFunction _SetUnhandledExceptionFilter;
    extern runtime::stdFunction _SetWaitableTimer;
    extern runtime::stdFunction _SuspendThread;
    extern runtime::stdFunction _SwitchToThread;
    extern runtime::stdFunction _TlsAlloc;
    extern runtime::stdFunction _VirtualAlloc;
    extern runtime::stdFunction _VirtualFree;
    extern runtime::stdFunction _VirtualQuery;
    extern runtime::stdFunction _WaitForSingleObject;
    extern runtime::stdFunction _WaitForMultipleObjects;
    extern runtime::stdFunction _WerGetFlags;
    extern runtime::stdFunction _WerSetFlags;
    extern runtime::stdFunction _WriteConsoleW;
    extern runtime::stdFunction _WriteFile;
    extern runtime::stdFunction _;
    extern runtime::stdFunction _ProcessPrng;
    extern runtime::stdFunction _RtlGetCurrentPeb;
    extern runtime::stdFunction _RtlGetNtVersionNumbers;
    extern runtime::stdFunction _timeBeginPeriod;
    extern runtime::stdFunction _timeEndPeriod;
    extern runtime::stdFunction _WSAGetOverlappedResult;
    extern runtime::stdFunction _;
    extern gocpp::array<uint16_t, 21> bcryptprimitivesdll;
    extern gocpp::array<uint16_t, 10> ntdlldll;
    extern gocpp::array<uint16_t, 13> powrprofdll;
    extern gocpp::array<uint16_t, 10> winmmdll;
    extern gocpp::array<uint16_t, 11> ws2_32dll;
    void tstart_stdcall(struct m* newm);
    void wintls();
    struct mOS
    {
        mutex threadLock;
        uintptr_t thread;
        uintptr_t waitsema;
        uintptr_t resumesema;
        uintptr_t highResTimer;
        uint32_t preemptExtLock;

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct mOS& value);
    int32_t open(unsigned char* name, int32_t mode, int32_t perm);
    int32_t closefd(int32_t fd);
    int32_t read(int32_t fd, unsafe::Pointer p, int32_t n);
    struct sigset
    {

        using isGoStruct = void;

        template<typename T> requires gocpp::GoStruct<T>
        operator T();

        template<typename T> requires gocpp::GoStruct<T>
        bool operator==(const T& ref) const;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct sigset& value);
    void asmstdcall(unsafe::Pointer fn);
    extern unsafe::Pointer asmstdcallAddr;
    runtime::stdFunction windowsFindfunc(uintptr_t lib, gocpp::slice<unsigned char> name);
    extern gocpp::array<unsigned char, _MAX_PATH + 1> sysDirectory;
    extern uintptr_t sysDirectoryLen;
    void initSysDirectory();
    std::string windows_GetSystemDirectory();
    uintptr_t windowsLoadSystemLib(gocpp::slice<uint16_t> name);
    void loadOptionalSyscalls();
    void monitorSuspendResume();
    uintptr_t getLoadLibrary();
    uintptr_t getLoadLibraryEx();
    uintptr_t getGetProcAddress();
    int32_t getproccount();
    uintptr_t getPageSize();
    uint32_t getlasterror();
    extern uint32_t timeBeginPeriodRetValue;
    uint32_t osRelax(bool relax);
    extern bool haveHighResTimer;
    uintptr_t createHighResTimer();
    void initHighResTimer();
    extern bool canUseLongPaths;
    extern gocpp::array<unsigned char, (_MAX_PATH + 1) * 2 + 1> longFileName;
    void initLongPathSupport();
    void osinit();
    int readRandom(gocpp::slice<unsigned char> r);
    void goenvs();
    extern uint32_t exiting;
    void exit(int32_t code);
    int32_t write1(uintptr_t fd, unsafe::Pointer buf, int32_t n);
    extern gocpp::array<uint16_t, 1000> utf16ConsoleBack;
    extern mutex utf16ConsoleBackLock;
    int writeConsole(uintptr_t handle, unsafe::Pointer buf, int32_t bufLen);
    void writeConsoleUTF16(uintptr_t handle, gocpp::slice<uint16_t> b);
    int32_t semasleep(int64_t ns);
    void semawakeup(struct m* mp);
    void semacreate(struct m* mp);
    void newosproc(struct m* mp);
    void newosproc0(struct m* mp, unsafe::Pointer stk);
    void exitThread(atomic::Uint32* wait);
    void mpreinit(struct m* mp);
    void sigsave(struct sigset* p);
    void msigrestore(struct sigset sigmask);
    void clearSignalHandlers();
    void sigblock(bool exiting);
    void minit();
    void unminit();
    void mdestroy(struct m* mp);
    void asmstdcall_trampoline(unsafe::Pointer args);
    uintptr_t stdcall_no_g(golang::runtime::stdFunction fn, int n, uintptr_t args);
    uintptr_t stdcall(golang::runtime::stdFunction fn);
    uintptr_t stdcall0(golang::runtime::stdFunction fn);
    uintptr_t stdcall1(golang::runtime::stdFunction fn, uintptr_t a0);
    uintptr_t stdcall2(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1);
    uintptr_t stdcall3(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2);
    uintptr_t stdcall4(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2, uintptr_t a3);
    uintptr_t stdcall5(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2, uintptr_t a3, uintptr_t a4);
    uintptr_t stdcall6(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2, uintptr_t a3, uintptr_t a4, uintptr_t a5);
    uintptr_t stdcall7(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2, uintptr_t a3, uintptr_t a4, uintptr_t a5, uintptr_t a6);
    uintptr_t stdcall8(golang::runtime::stdFunction fn, uintptr_t a0, uintptr_t a1, uintptr_t a2, uintptr_t a3, uintptr_t a4, uintptr_t a5, uintptr_t a6, uintptr_t a7);
    void osyield_no_g();
    void osyield();
    void usleep_no_g(uint32_t us);
    void usleep(uint32_t us);
    uintptr_t ctrlHandler(uint32_t _type);
    void callbackasm1();
    extern uintptr_t profiletimer;
    void profilem(struct m* mp, uintptr_t thread);
    struct g* gFromSP(struct m* mp, uintptr_t sp);
    void profileLoop();
    void setProcessCPUProfiler(int32_t hz);
    void setThreadCPUProfiler(int32_t hz);
    extern mutex suspendLock;
    void preemptM(struct m* mp);
    void osPreemptExtEnter(struct m* mp);
    void osPreemptExtExit(struct m* mp);

    namespace rec
    {
    }
}

