// generated by GoCpp from file '$(ImportDir)/syscall/syscall_windows.go'
#pragma once

#include <functional>
#include <string>
#include <tuple>
#include <vector>

#include "golang/syscall/syscall_windows.fwd.h"
#include "gocpp/support.h"

#include "golang/errors/errors.h"
#include "golang/internal/bytealg/indexbyte_native.h"
#include "golang/internal/itoa/itoa.h"
// #include "golang/internal/race/norace.h"  [Ignored, known errors]
#include "golang/runtime/extern.h"
#include "golang/sync/once.h"
#include "golang/syscall/asan0.h"
#include "golang/syscall/dll_windows.h"
#include "golang/syscall/msan0.h"
#include "golang/syscall/types_windows.h"
#include "golang/syscall/wtf8_windows.h"
#include "golang/syscall/zerrors_windows.h"
#include "golang/syscall/zsyscall_windows.h"
#include "golang/unsafe/unsafe.h"

namespace golang::syscall
{
    gocpp::slice<uint16_t> StringToUTF16(std::string s);
    std::tuple<gocpp::slice<uint16_t>, std::string> UTF16FromString(std::string s);
    std::string UTF16ToString(gocpp::slice<uint16_t> s);
    std::string utf16PtrToString(uint16_t* p);
    uint16_t* StringToUTF16Ptr(std::string s);
    std::tuple<uint16_t*, std::string> UTF16PtrFromString(std::string s);
    uint32_t langid(uint16_t pri, uint16_t sub);
    std::tuple<uint32_t, std::string> FormatMessage(uint32_t flags, uint32_t msgsrc, uint32_t msgid, uint32_t langid, gocpp::slice<uint16_t> buf, unsigned char* args);
    std::string Error(Errno e);
    bool Is(Errno e, std::string target);
    bool Temporary(Errno e);
    bool Timeout(Errno e);
    uintptr_t compileCallback(go_any fn, bool cleanstack);
    uintptr_t NewCallback(go_any fn);
    uintptr_t NewCallbackCDecl(go_any fn);
    SecurityAttributes* makeInheritSa();
    std::tuple<Handle, std::string> Open(std::string path, int mode, uint32_t perm);
    std::tuple<int, std::string> Read(Handle fd, gocpp::slice<unsigned char> p);
    std::tuple<int, std::string> Write(Handle fd, gocpp::slice<unsigned char> p);
    std::string ReadFile(Handle fd, gocpp::slice<unsigned char> p, uint32_t* done, Overlapped* overlapped);
    std::string WriteFile(Handle fd, gocpp::slice<unsigned char> p, uint32_t* done, Overlapped* overlapped);
    extern LazyProc* procSetFilePointerEx;
    std::string setFilePointerEx(Handle handle, int64_t distToMove, int64_t* newFilePointer, uint32_t whence);
    std::tuple<int64_t, std::string> Seek(Handle fd, int64_t offset, int whence);
    std::string Close(Handle fd);
    extern Handle Stdin;
    extern Handle Stdout;
    extern Handle Stderr;
    Handle getStdHandle(int h);
    std::tuple<std::string, std::string> Getwd();
    std::string Chdir(std::string path);
    std::string Mkdir(std::string path, uint32_t mode);
    std::string Rmdir(std::string path);
    std::string Unlink(std::string path);
    std::string Rename(std::string oldpath, std::string newpath);
    std::tuple<std::string, std::string> ComputerName();
    std::string Ftruncate(Handle fd, int64_t length);
    std::string Gettimeofday(Timeval* tv);
    std::string Pipe(gocpp::slice<Handle> p);
    std::string Utimes(std::string path, gocpp::slice<Timeval> tv);
    std::string UtimesNano(std::string path, gocpp::slice<Timespec> ts);
    std::string Fsync(Handle fd);
    std::string Chmod(std::string path, uint32_t mode);
    std::string LoadCancelIoEx();
    std::string LoadSetFileCompletionNotificationModes();
    struct RawSockaddrInet4
    {
        uint16_t Family;
        uint16_t Port;
        gocpp::array<unsigned char, 4> Addr;
        gocpp::array<uint8_t, 8> Zero;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct RawSockaddrInet4& value);
    struct RawSockaddrInet6
    {
        uint16_t Family;
        uint16_t Port;
        uint32_t Flowinfo;
        gocpp::array<unsigned char, 16> Addr;
        uint32_t Scope_id;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct RawSockaddrInet6& value);
    struct RawSockaddr
    {
        uint16_t Family;
        gocpp::array<int8_t, 14> Data;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct RawSockaddr& value);
    struct RawSockaddrAny
    {
        RawSockaddr Addr;
        gocpp::array<int8_t, 100> Pad;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct RawSockaddrAny& value);
    struct Sockaddr : gocpp::Interface
    {
        Sockaddr(){}
        Sockaddr(Sockaddr& i) = default;
        Sockaddr(const Sockaddr& i) = default;
        Sockaddr& operator=(Sockaddr& i) = default;
        Sockaddr& operator=(const Sockaddr& i) = default;

        template<typename T>
        Sockaddr(T& ref);

        template<typename T>
        Sockaddr(const T& ref);

        template<typename T>
        Sockaddr(T* ptr);

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;

        struct ISockaddr
        {
            virtual std::tuple<unsafe::Pointer, int32_t, std::string> vsockaddr() = 0;
        };

        template<typename T, typename StoreT>
        struct SockaddrImpl : ISockaddr
        {
            explicit SockaddrImpl(T* ptr)
            {
                value.reset(ptr);
            }

            std::tuple<unsafe::Pointer, int32_t, std::string> vsockaddr() override;

            StoreT value;
        };

        std::shared_ptr<ISockaddr> value;
    };

    std::tuple<unsafe::Pointer, int32_t, std::string> sockaddr(const gocpp::PtrRecv<Sockaddr, false>& self);
    std::tuple<unsafe::Pointer, int32_t, std::string> sockaddr(const gocpp::ObjRecv<Sockaddr>& self);

    std::ostream& operator<<(std::ostream& os, const struct Sockaddr& value);
    struct SockaddrInet4
    {
        int Port;
        gocpp::array<unsigned char, 4> Addr;
        RawSockaddrInet4 raw;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct SockaddrInet4& value);
    std::tuple<unsafe::Pointer, int32_t, std::string> sockaddr(struct SockaddrInet4* sa);
    struct SockaddrInet6
    {
        int Port;
        uint32_t ZoneId;
        gocpp::array<unsigned char, 16> Addr;
        RawSockaddrInet6 raw;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct SockaddrInet6& value);
    std::tuple<unsafe::Pointer, int32_t, std::string> sockaddr(struct SockaddrInet6* sa);
    struct RawSockaddrUnix
    {
        uint16_t Family;
        gocpp::array<int8_t, UNIX_PATH_MAX> Path;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct RawSockaddrUnix& value);
    struct SockaddrUnix
    {
        std::string Name;
        RawSockaddrUnix raw;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct SockaddrUnix& value);
    std::tuple<unsafe::Pointer, int32_t, std::string> sockaddr(struct SockaddrUnix* sa);
    std::tuple<Sockaddr, std::string> Sockaddr(struct RawSockaddrAny* rsa);
    std::tuple<Handle, std::string> Socket(int domain, int typ, int proto);
    std::string SetsockoptInt(Handle fd, int level, int opt, int value);
    std::string Bind(Handle fd, Sockaddr sa);
    std::string Connect(Handle fd, Sockaddr sa);
    std::tuple<Sockaddr, std::string> Getsockname(Handle fd);
    std::tuple<Sockaddr, std::string> Getpeername(Handle fd);
    std::string Listen(Handle s, int n);
    std::string Shutdown(Handle fd, int how);
    std::string WSASendto(Handle s, WSABuf* bufs, uint32_t bufcnt, uint32_t* sent, uint32_t flags, Sockaddr to, Overlapped* overlapped, unsigned char* croutine);
    std::string wsaSendtoInet4(Handle s, WSABuf* bufs, uint32_t bufcnt, uint32_t* sent, uint32_t flags, SockaddrInet4* to, Overlapped* overlapped, unsigned char* croutine);
    std::string wsaSendtoInet6(Handle s, WSABuf* bufs, uint32_t bufcnt, uint32_t* sent, uint32_t flags, SockaddrInet6* to, Overlapped* overlapped, unsigned char* croutine);
    std::string LoadGetAddrInfo();
    std::string LoadConnectEx();
    std::string connectEx(Handle s, unsafe::Pointer name, int32_t namelen, unsigned char* sendBuf, uint32_t sendDataLen, uint32_t* bytesSent, Overlapped* overlapped);
    std::string ConnectEx(Handle fd, Sockaddr sa, unsigned char* sendBuf, uint32_t sendDataLen, uint32_t* bytesSent, Overlapped* overlapped);
    struct Rusage
    {
        Filetime CreationTime;
        Filetime ExitTime;
        Filetime KernelTime;
        Filetime UserTime;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Rusage& value);
    struct WaitStatus
    {
        uint32_t ExitCode;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct WaitStatus& value);
    bool Exited(struct WaitStatus w);
    int ExitStatus(struct WaitStatus w);
    Signal Signal(struct WaitStatus w);
    bool CoreDump(struct WaitStatus w);
    bool Stopped(struct WaitStatus w);
    bool Continued(struct WaitStatus w);
    Signal StopSignal(struct WaitStatus w);
    bool Signaled(struct WaitStatus w);
    int TrapCause(struct WaitStatus w);
    struct Timespec
    {
        int64_t Sec;
        int64_t Nsec;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Timespec& value);
    int64_t TimespecToNsec(Timespec ts);
    Timespec NsecToTimespec(int64_t nsec);
    std::tuple<Handle, Sockaddr, std::string> Accept(Handle fd);
    std::tuple<int, Sockaddr, std::string> Recvfrom(Handle fd, gocpp::slice<unsigned char> p, int flags);
    std::string Sendto(Handle fd, gocpp::slice<unsigned char> p, int flags, Sockaddr to);
    std::string SetsockoptTimeval(Handle fd, int level, int opt, Timeval* tv);
    struct Linger
    {
        int32_t Onoff;
        int32_t Linger;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct Linger& value);
    struct sysLinger
    {
        uint16_t Onoff;
        uint16_t Linger;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct sysLinger& value);
    struct IPMreq
    {
        gocpp::array<unsigned char, 4> Multiaddr;
        gocpp::array<unsigned char, 4> Interface;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct IPMreq& value);
    struct IPv6Mreq
    {
        gocpp::array<unsigned char, 16> Multiaddr;
        uint32_t Interface;

        using isGoStruct = void;

        std::ostream& PrintTo(std::ostream& os) const;
    };

    std::ostream& operator<<(std::ostream& os, const struct IPv6Mreq& value);
    std::tuple<int, std::string> GetsockoptInt(Handle fd, int level, int opt);
    std::string SetsockoptLinger(Handle fd, int level, int opt, Linger* l);
    std::string SetsockoptInet4Addr(Handle fd, int level, int opt, gocpp::array<unsigned char, 4> value);
    std::string SetsockoptIPMreq(Handle fd, int level, int opt, IPMreq* mreq);
    std::string SetsockoptIPv6Mreq(Handle fd, int level, int opt, IPv6Mreq* mreq);
    int Getpid();
    std::tuple<Handle, std::string> FindFirstFile(uint16_t* name, Win32finddata* data);
    std::string FindNextFile(Handle handle, Win32finddata* data);
    std::tuple<ProcessEntry32*, std::string> getProcessEntry(int pid);
    int Getppid();
    std::tuple<gocpp::slice<uint16_t>, std::string> fdpath(Handle fd, gocpp::slice<uint16_t> buf);
    std::string Fchdir(Handle fd);
    std::string Link(std::string oldpath, std::string newpath);
    std::string Symlink(std::string path, std::string link);
    std::string Fchmod(Handle fd, uint32_t mode);
    std::string Chown(std::string path, int uid, int gid);
    std::string Lchown(std::string path, int uid, int gid);
    std::string Fchown(Handle fd, int uid, int gid);
    int Getuid();
    int Geteuid();
    int Getgid();
    int Getegid();
    std::tuple<gocpp::slice<int>, std::string> Getgroups();
    void Signal(Signal s);
    std::string String(Signal s);
    std::string LoadCreateSymbolicLink();
    std::tuple<int, std::string> Readlink(std::string path, gocpp::slice<unsigned char> buf);
    std::tuple<Handle, std::string> CreateIoCompletionPort(Handle filehandle, Handle cphandle, uint32_t key, uint32_t threadcnt);
    std::string GetQueuedCompletionStatus(Handle cphandle, uint32_t* qty, uint32_t* key, Overlapped** overlapped, uint32_t timeout);
    std::string PostQueuedCompletionStatus(Handle cphandle, uint32_t qty, uint32_t key, Overlapped* overlapped);
    std::tuple<_PROC_THREAD_ATTRIBUTE_LIST*, std::string> newProcThreadAttributeList(uint32_t maxAttrCount);
    std::string RegEnumKeyEx(Handle key, uint32_t index, uint16_t* name, uint32_t* nameLen, uint32_t* reserved, uint16_t* go_class, uint32_t* classLen, Filetime* lastWriteTime);
    std::string GetStartupInfo(StartupInfo* startupInfo);
}

